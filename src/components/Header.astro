---
import logo from '../assets/logo.png';
---

<header class="w-full px-4 sm:px-6 py-3 sm:py-4 flex items-center justify-between relative">
  <div class="flex items-center gap-2 sm:gap-3">
    <img src={logo.src} alt="Scash Logo" class="w-8 h-8 sm:w-10 sm:h-10" />
    <span class="text-xl sm:text-2xl font-bold text-scash-purple">Scash</span>
  </div>
  
  <nav class="hidden md:flex items-center gap-4 lg:gap-6">
    <a href="https://docs.scashnetwork.org/" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-scash-purple transition-colors min-h-[44px] flex items-center px-2">About Scash</a>
    <button 
      onclick="window.openExplorerModal?.()"
      class="text-gray-700 hover:text-scash-purple transition-colors bg-transparent border-none cursor-pointer min-h-[44px] flex items-center px-2"
    >
      Explorer
    </button>
    <button 
      onclick="window.openCommunityModal?.()"
      class="text-gray-700 hover:text-scash-purple transition-colors bg-transparent border-none cursor-pointer min-h-[44px] flex items-center px-2"
    >
      Community
    </button>
    <a href="https://github.com/scashnetwork" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-scash-purple transition-colors min-h-[44px] flex items-center px-2">GitHub</a>
  </nav>
  
  <button 
    id="mobile-menu-button"
    class="md:hidden w-11 h-11 flex items-center justify-center text-gray-700 hover:text-scash-purple transition-colors"
    onclick="window.toggleMobileMenu?.()"
    aria-label="Toggle menu"
  >
    <svg id="menu-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
    <svg id="close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg>
  </button>
</header>

<div id="mobile-menu" class="hidden md:hidden fixed inset-0 bg-black/50 z-40 mt-[60px] sm:mt-[68px]">
  <div class="bg-white shadow-xl">
    <nav class="flex flex-col py-4">
      <a 
        href="https://docs.scashnetwork.org/" 
        target="_blank" 
        rel="noopener noreferrer" 
        class="px-6 py-4 text-gray-700 hover:bg-purple-50 hover:text-scash-purple transition-colors min-h-[44px] flex items-center"
        onclick="window.closeMobileMenu?.()"
      >
        About Scash
      </a>
      <button 
        onclick="window.openExplorerModal?.(); window.closeMobileMenu?.();"
        class="px-6 py-4 text-left text-gray-700 hover:bg-purple-50 hover:text-scash-purple transition-colors min-h-[44px] flex items-center"
      >
        Explorer
      </button>
      <button 
        onclick="window.openCommunityModal?.(); window.closeMobileMenu?.();"
        class="px-6 py-4 text-left text-gray-700 hover:bg-purple-50 hover:text-scash-purple transition-colors min-h-[44px] flex items-center"
      >
        Community
      </button>
      <a 
        href="https://github.com/scashnetwork" 
        target="_blank" 
        rel="noopener noreferrer" 
        class="px-6 py-4 text-gray-700 hover:bg-purple-50 hover:text-scash-purple transition-colors min-h-[44px] flex items-center"
        onclick="window.closeMobileMenu?.()"
      >
        GitHub
      </a>
    </nav>
  </div>
</div>

<div id="explorer-modal-overlay" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 sm:p-6" onclick="window.closeExplorerModal?.()">
  <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-4 sm:p-6" onclick="event.stopPropagation()">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold text-gray-900">Select Explorer</h2>
      <button 
        class="text-gray-400 hover:text-gray-600 transition-colors"
        onclick="window.closeExplorerModal?.()"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    
    <div class="space-y-4">
      <a 
        href="https://explorer.scash.network/" 
        target="_blank" 
        rel="noopener noreferrer"
        class="block p-4 border-2 border-gray-200 rounded-lg hover:border-scash-purple hover:bg-purple-50 transition-all group min-h-[44px]"
      >
        <div class="font-semibold text-gray-900 group-hover:text-scash-purple transition-colors">
          SCASH Network Explorer
        </div>
        <div class="text-sm text-gray-500 mt-1">
          explorer.scash.network
        </div>
      </a>
      
      <a 
        href="https://scash.tv/" 
        target="_blank" 
        rel="noopener noreferrer"
        class="block p-4 border-2 border-gray-200 rounded-lg hover:border-scash-purple hover:bg-purple-50 transition-all group min-h-[44px]"
      >
        <div class="font-semibold text-gray-900 group-hover:text-scash-purple transition-colors">
          Scash Block Explorer
        </div>
        <div class="text-sm text-gray-500 mt-1">
          scash.tv
        </div>
      </a>
    </div>
  </div>
</div>

<div id="community-modal-overlay" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 sm:p-6" onclick="window.closeCommunityModal?.()">
  <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-4 sm:p-6" onclick="event.stopPropagation()">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold text-gray-900">Select Community</h2>
      <button 
        class="text-gray-400 hover:text-gray-600 transition-colors"
        onclick="window.closeCommunityModal?.()"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    
    <div class="space-y-4">
      <a 
        href="https://discord.com/invite/wvhM6mBVtT" 
        target="_blank" 
        rel="noopener noreferrer"
        class="block p-4 border-2 border-gray-200 rounded-lg hover:border-scash-purple hover:bg-purple-50 transition-all group min-h-[44px]"
      >
        <div class="font-semibold text-gray-900 group-hover:text-scash-purple transition-colors">
          Discord Community
        </div>
        <div class="text-sm text-gray-500 mt-1">
          discord.com/invite/wvhM6mBVtT
        </div>
      </a>
      
      <a 
        href="https://t.me/SatoshiCashNetwork/142557" 
        target="_blank" 
        rel="noopener noreferrer"
        class="block p-4 border-2 border-gray-200 rounded-lg hover:border-scash-purple hover:bg-purple-50 transition-all group min-h-[44px]"
      >
        <div class="font-semibold text-gray-900 group-hover:text-scash-purple transition-colors">
          Telegram China Community
        </div>
        <div class="text-sm text-gray-500 mt-1">
          t.me/SatoshiCashNetwork
        </div>
      </a>
    </div>
  </div>
</div>

<script>
  function openExplorerModal() {
    const modal = document.getElementById('explorer-modal-overlay');
    if (modal) {
      modal.classList.remove('hidden');
    }
  }
  
  function closeExplorerModal() {
    const modal = document.getElementById('explorer-modal-overlay');
    if (modal) {
      modal.classList.add('hidden');
    }
  }
  
  function openCommunityModal() {
    const modal = document.getElementById('community-modal-overlay');
    if (modal) {
      modal.classList.remove('hidden');
    }
  }
  
  function closeCommunityModal() {
    const modal = document.getElementById('community-modal-overlay');
    if (modal) {
      modal.classList.add('hidden');
    }
  }
  
  function toggleMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');
    
    if (menu) {
      const isHidden = menu.classList.contains('hidden');
      if (isHidden) {
        menu.classList.remove('hidden');
        if (menuIcon) menuIcon.classList.add('hidden');
        if (closeIcon) closeIcon.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      } else {
        menu.classList.add('hidden');
        if (menuIcon) menuIcon.classList.remove('hidden');
        if (closeIcon) closeIcon.classList.add('hidden');
        document.body.style.overflow = '';
      }
    }
  }
  
  function closeMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');
    
    if (menu) {
      menu.classList.add('hidden');
      if (menuIcon) menuIcon.classList.remove('hidden');
      if (closeIcon) closeIcon.classList.add('hidden');
      document.body.style.overflow = '';
    }
  }
  
  window.openExplorerModal = openExplorerModal;
  window.closeExplorerModal = closeExplorerModal;
  window.openCommunityModal = openCommunityModal;
  window.closeCommunityModal = closeCommunityModal;
  window.toggleMobileMenu = toggleMobileMenu;
  window.closeMobileMenu = closeMobileMenu;
  
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeExplorerModal();
      closeCommunityModal();
      closeMobileMenu();
    }
  });
  
  document.getElementById('mobile-menu')?.addEventListener('click', (e) => {
    if (e.target === e.currentTarget) {
      closeMobileMenu();
    }
  });
</script>

