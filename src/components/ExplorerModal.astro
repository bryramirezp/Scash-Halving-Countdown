---
interface Props {
  isOpen: boolean;
}

const { isOpen } = Astro.props;
---

{isOpen && (
  <div 
    id="explorer-modal-overlay" 
    class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4"
    onclick="document.getElementById('explorer-modal-overlay')?.classList.add('hidden')"
  >
    <div 
      class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-6"
      onclick="event.stopPropagation()"
    >
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-gray-900">Select Explorer</h2>
        <button 
          id="close-modal"
          class="text-gray-400 hover:text-gray-600 transition-colors"
          onclick="document.getElementById('explorer-modal-overlay')?.classList.add('hidden')"
        >
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      
      <div class="space-y-4">
        <a 
          href="https://explorer.scash.network/" 
          target="_blank" 
          rel="noopener noreferrer"
          class="block p-4 border-2 border-gray-200 rounded-lg hover:border-scash-purple hover:bg-purple-50 transition-all group"
        >
          <div class="font-semibold text-gray-900 group-hover:text-scash-purple transition-colors">
            SCASH Network Explorer
          </div>
          <div class="text-sm text-gray-500 mt-1">
            explorer.scash.network
          </div>
        </a>
        
        <a 
          href="https://scash.tv/" 
          target="_blank" 
          rel="noopener noreferrer"
          class="block p-4 border-2 border-gray-200 rounded-lg hover:border-scash-purple hover:bg-purple-50 transition-all group"
        >
          <div class="font-semibold text-gray-900 group-hover:text-scash-purple transition-colors">
            SCASH Network Explorer
          </div>
          <div class="text-sm text-gray-500 mt-1">
            scash.tv
          </div>
        </a>
      </div>
    </div>
  </div>
)}

<script>
  function openExplorerModal() {
    const modal = document.getElementById('explorer-modal-overlay');
    if (modal) {
      modal.classList.remove('hidden');
    }
  }
  
  function closeExplorerModal() {
    const modal = document.getElementById('explorer-modal-overlay');
    if (modal) {
      modal.classList.add('hidden');
    }
  }
  
  // Hacer funciones globales
  window.openExplorerModal = openExplorerModal;
  window.closeExplorerModal = closeExplorerModal;
  
  // Cerrar con ESC
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeExplorerModal();
    }
  });
</script>

